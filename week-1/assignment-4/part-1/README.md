# Assignment 4 - Part 1: Finite Differences

## Описание

Этот проект реализует методы конечных разностей (Finite Differences) для анализа дискретных данных:
- **Forward Differences (Прямые разности)**: Δf(xᵢ) = f(xᵢ₊₁) - f(xᵢ)
- **Backward Differences (Обратные разности)**: ∇f(xᵢ) = f(xᵢ) - f(xᵢ₋₁)

## Структура проекта

```
assignment-4/
└── part-1/
    ├── methods/
    │   ├── __init__.py
    │   ├── forward_difference.py    # Прямые разности
    │   └── backward_difference.py   # Обратные разности
    ├── main.py                      # Главная программа с меню
    ├── examples.py                  # Примеры задач
    ├── table.py                     # Отображение таблиц
    ├── utils.py                     # Вспомогательные функции
    └── README.md                    # Эта документация
```

## Теория

### Forward Differences (Прямые разности)

Прямая разность первого порядка:
```
Δf(xᵢ) = f(xᵢ₊₁) - f(xᵢ)
```

Прямая разность второго порядка:
```
Δ²f(xᵢ) = Δf(xᵢ₊₁) - Δf(xᵢ)
```

Общая формула для n-го порядка:
```
Δⁿf(xᵢ) = Δⁿ⁻¹f(xᵢ₊₁) - Δⁿ⁻¹f(xᵢ)
```

### Backward Differences (Обратные разности)

Обратная разность первого порядка:
```
∇f(xᵢ) = f(xᵢ) - f(xᵢ₋₁)
```

Обратная разность второго порядка:
```
∇²f(xᵢ) = ∇f(xᵢ) - ∇f(xᵢ₋₁)
```

Общая формула для n-го порядка:
```
∇ⁿf(xᵢ) = ∇ⁿ⁻¹f(xᵢ) - ∇ⁿ⁻¹f(xᵢ₋₁)
```

## Свойства

1. **Для полиномов**: Разности n-го порядка для полинома степени n являются константами
2. **Для полиномов**: Разности (n+1)-го порядка и выше равны нулю
3. **Равномерный шаг**: Методы работают лучше всего с равномерно распределёнными данными

## Использование

### Запуск программы

```bash
python main.py
```

### Главное меню

Программа предоставляет следующие опции:

1. **Ручной ввод данных** - Forward Differences
2. **Ручной ввод данных** - Backward Differences
3. **Ручной ввод данных** - Сравнение методов
4. **Пример 1**: Polynomial f(x) = x³ - 2x² + 3x - 1
5. **Пример 2**: Exponential Function f(x) = 2^x
6. **Запуск всех примеров**

### Ручной ввод данных

При выборе ручного ввода программа запрашивает:
1. **Формулу функции** - например: `x**2`, `2*x + 3`, `x**3 - 2*x**2 + 3*x - 1`
2. **Количество точек данных** - минимум 2
3. **Значения x** - программа автоматически вычислит f(x) для каждого x

Пример:
```
Enter function formula:
  f(x) = x**2
  
Enter number of data points: 5

Enter 5 x values:
  x[1]: 0
  x[2]: 1
  x[3]: 2
  x[4]: 3
  x[5]: 4

Calculated values:
  f(0) = 0
  f(1) = 1
  f(2) = 4
  f(3) = 9
  f(4) = 16
```

### Примеры использования

#### Пример 1: Polynomial f(x) = x³ - 2x² + 3x - 1

Полиномиальная функция третьей степени:
```python
x = [0, 1, 2, 3, 4, 5]
f(x) = [x³ - 2x² + 3x - 1 for x in x_values]
f(x) = [-1, 1, 5, 17, 43, 89]
```

Третий порядок разностей константен (= 6), что подтверждает полином степени 3.

#### Пример 2: Exponential Function f(x) = 2^x

Экспоненциальная функция:
```python
x = [0, 1, 2, 3, 4, 5]
f(x) = [2^x for x in x_values]
f(x) = [1, 2, 4, 8, 16, 32]
```

Для экспоненциальных функций разности не становятся константами.

### Использование как модуль

```python
from methods.forward_difference import forward_difference_table
from methods.backward_difference import backward_difference_table
from table import display_forward_difference_table

# Данные
x_values = [1, 2, 3, 4]
y_values = [2, 4, 7, 11]

# Вычисление прямых разностей
result = forward_difference_table(x_values, y_values)

# Отображение таблицы
display_forward_difference_table(result)

# Доступ к результатам
print(f"Первый порядок разностей: {result['differences'][0]}")
print(f"Второй порядок разностей: {result['differences'][1]}")
```

## Функции API

### forward_difference_table(x_values, y_values, max_order=None)

Вычисляет таблицу прямых разностей.

**Параметры:**
- `x_values`: список значений x
- `y_values`: список значений f(x)
- `max_order`: максимальный порядок разностей (по умолчанию: n-1)

**Возвращает:**
- Словарь с ключами: `'x'`, `'y'`, `'differences'`, `'order'`

### backward_difference_table(x_values, y_values, max_order=None)

Вычисляет таблицу обратных разностей.

**Параметры:** Такие же как у `forward_difference_table`

**Возвращает:** Такая же структура как у `forward_difference_table`

## Зависимости

- Python 3.12+
- tabulate (для красивого отображения таблиц)

Установка зависимостей:
```bash
pip install tabulate
```

## Примеры выполнения

### Forward Differences для Polynomial f(x) = x³ - 2x² + 3x - 1

```
FORWARD DIFFERENCE TABLE
+-----+------+---------+----------+-----------+-----------+-----------+
|   i |   xᵢ |   f(xᵢ) | Δf(xᵢ)   | Δ²f(xᵢ)   | Δ³f(xᵢ)   | Δ⁴f(xᵢ)   |
+=====+======+=========+==========+===========+===========+===========+
|   1 |    0 |      -1 | 2.0000   | 2.0000    | 6.0000    | 0.0000    |
+-----+------+---------+----------+-----------+-----------+-----------+
|   2 |    1 |       1 | 4.0000   | 8.0000    | 6.0000    | 0.0000    |
+-----+------+---------+----------+-----------+-----------+-----------+
|   3 |    2 |       5 | 12.0000  | 14.0000   | 6.0000    |           |
+-----+------+---------+----------+-----------+-----------+-----------+
|   4 |    3 |      17 | 26.0000  | 20.0000   |           |           |
+-----+------+---------+----------+-----------+-----------+-----------+
|   5 |    4 |      43 | 46.0000  |           |           |           |
+-----+------+---------+----------+-----------+-----------+-----------+
|   6 |    5 |      89 |          |           |           |           |
+-----+------+---------+----------+-----------+-----------+-----------+

Detected: Polynomial of degree 3
```

### Forward Differences для Exponential f(x) = 2^x

```
FORWARD DIFFERENCE TABLE
+-----+------+---------+----------+-----------+-----------+-----------+-----------+
|   i |   xᵢ |   f(xᵢ) | Δf(xᵢ)   | Δ²f(xᵢ)   | Δ³f(xᵢ)   | Δ⁴f(xᵢ)   | Δ⁵f(xᵢ)   |
+=====+======+=========+==========+===========+===========+===========+===========+
|   1 |    0 |       1 | 1.0000   | 1.0000    | 1.0000    | 1.0000    | 1.0000    |
+-----+------+---------+----------+-----------+-----------+-----------+-----------+
|   2 |    1 |       2 | 2.0000   | 2.0000    | 2.0000    | 2.0000    |           |
+-----+------+---------+----------+-----------+-----------+-----------+-----------+
|   3 |    2 |       4 | 4.0000   | 4.0000    | 4.0000    |           |           |
+-----+------+---------+----------+-----------+-----------+-----------+-----------+
|   4 |    3 |       8 | 8.0000   | 8.0000    |           |           |           |
+-----+------+---------+----------+-----------+-----------+-----------+-----------+
|   5 |    4 |      16 | 16.0000  |           |           |           |           |
+-----+------+---------+----------+-----------+-----------+-----------+-----------+
|   6 |    5 |      32 |          |           |           |           |           |
+-----+------+---------+----------+-----------+-----------+-----------+-----------+

Note: For exponential functions, differences don't become constant.
```

## Примечания

1. **Равномерный шаг**: Методы конечных разностей лучше всего работают с равномерно распределёнными точками данных
2. **Полиномиальное обнаружение**: Программа автоматически определяет степень полинома
3. **Точность**: Для численных вычислений используется порог 1e-10 для определения нулевых значений

## Автор

Computational Mathematics - Assignment 4, Part 1

## Лицензия

Educational Project
