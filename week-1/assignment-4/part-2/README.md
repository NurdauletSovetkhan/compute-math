# Assignment 4 - Part 2: Interpolation Methods

## Описание

Программа реализует три метода интерполяции:
1. **Lagrange Interpolation** - универсальный метод для любых данных
2. **Newton's Forward Difference** - оптимален для начала диапазона при равномерных данных
3. **Newton's Backward Difference** - оптимален для конца диапазона при равномерных данных

## Файлы

- `main.py` - основная программа с меню и логикой выбора метода
- `lagrange.py` - интерполяция Лагранжа
- `newton_forward.py` - формула Ньютона с прямыми разностями
- `newton_backward.py` - формула Ньютона с обратными разностями
- `utils.py` - утилиты (проверка данных, форматирование полиномов)
- `table.py` - отображение результатов в виде таблиц

## Требования

```bash
pip install tabulate
```

## Использование

### Запуск программы

```bash
python main.py
```

### Меню программы

1. **Automatic Method Selection** - автоматический выбор метода (рекомендуется)
2. **Manual Input - Choose Method** - ручной выбор метода
3. **Test Example: Population Data** - пример с данными популяции (2010-2025)
4. **Test Example: Polynomial Data** - пример с полиномиальными данными
5. **Compare All Methods** - сравнение всех методов

## Логика автоматического выбора метода

### Шаг 1: Проверка равномерности данных
- Если данные **НЕ равномерно** расположены → использовать **Lagrange**
- Если данные **равномерно** расположены → перейти к шагу 2

### Шаг 2: Определение позиции целевой точки
- Если x_target близко к **началу** → использовать **Newton Forward**
- Если x_target близко к **концу** → использовать **Newton Backward**
- Если x_target в **середине** → использовать **Lagrange** (более сбалансированная точность)

## Пример использования

### Пример 1: Данные о популяции

```
Year (x) | Population (y)
---------|---------------
  2010   |     16.5
  2015   |     17.5
  2020   |     18.7
  2025   |     20.0

Найти популяцию в 2018 году
```

**Результат:**
- Метод: Lagrange Interpolation
- Причина: x=2018 находится в середине диапазона
- Оценка: y = 18.202 миллионов

### Пример 2: Полиномиальные данные

```
f(x) = x³ - 2x² + 3x - 1

x | f(x)
--|-----
0 | -1
1 |  1
2 |  5
3 | 13
4 | 27

Найти f(2.5)
```

**Результат:**
- Метод: Lagrange Interpolation
- Оценка: y = 9.375
- Истинное значение: 9.375
- Ошибка: ~10⁻¹⁵ (машинная точность)

## Формулы

### Lagrange Interpolation
```
P(x) = Σ [yᵢ × Lᵢ(x)]

где Lᵢ(x) = Π [(x - xⱼ) / (xᵢ - xⱼ)] для j ≠ i
```

### Newton's Forward Difference
```
P(x) = y₀ + u×Δy₀ + u(u-1)/2!×Δ²y₀ + u(u-1)(u-2)/3!×Δ³y₀ + ...

где u = (x - x₀) / h
```

### Newton's Backward Difference
```
P(x) = yₙ + u×∇yₙ + u(u+1)/2!×∇²yₙ + u(u+1)(u+2)/3!×∇³yₙ + ...

где u = (x - xₙ) / h
```

## Выходные данные

Программа выводит:

1. **Полиномиальное представление** - интерполирующий полином в упрощенной алгебраической форме
   - Формат с Unicode: `2x³ - 1.5x² + 3x - 1`
   - Стандартный формат: `2x^3 - 1.5x^2 + 3x - 1`

2. **Оценочное значение** - вычисленное значение y = Pₙ(x_target)

3. **Дополнительная информация**:
   - Метод и причина выбора
   - Проверка равномерности данных
   - Степень полинома
   - Для Newton: шаг h и параметр u

## Особенности реализации

- ✅ Автоматический выбор оптимального метода
- ✅ Проверка корректности данных
- ✅ Красивое форматирование полиномов
- ✅ Сравнение методов
- ✅ Встроенные примеры
- ✅ Детальный вывод результатов
- ✅ Обработка ошибок

## Тестирование

Все три метода дают идентичные результаты для одних и тех же данных (с точностью до машинной погрешности ~10⁻¹⁵).

## Автор

Assignment 4 - Part 2
Numerical Analysis Course
